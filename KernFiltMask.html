
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Kernels Filters and Masking &#8212; ImageMKS 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Visualization" href="Visualization.html" />
    <link rel="prev" title="Workflows" href="Workflows.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Visualization.html" title="Visualization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Workflows.html" title="Workflows"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ImageMKS 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="API.html" accesskey="U">API</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="kernels-filters-and-masking">
<h1>Kernels Filters and Masking<a class="headerlink" href="#kernels-filters-and-masking" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-imagemks.structures">
<span id="kernels-as-different-structural-shapes"></span><h2>Kernels as different structural shapes<a class="headerlink" href="#module-imagemks.structures" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="imagemks.structures.divergent">
<code class="descclassname">imagemks.structures.</code><code class="descname">divergent</code><span class="sig-paren">(</span><em>size</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.divergent" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates two grids that specify the x and y values at each point in 2d space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em>) – The size of the output grids.</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the center will be in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the center will be
at the origin pixel (0,0). Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>divergent_grid</strong> – A grid that defines the x and y values at each point in 2d space. If the
graph quadrants are recalled, a centered grid will produce an array with
quadrants ordered as such:</p>
<p>[ 2 | 1 ]</p>
<p>[——-]</p>
<p>[ 3 | 4 ]</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of ndarrays</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.structures.circle">
<code class="descclassname">imagemks.structures.</code><code class="descname">circle</code><span class="sig-paren">(</span><em>r</em>, <em>size=None</em>, <em>centered=True</em>, <em>dtype=&lt;class 'numpy.bool_'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a circle with specified dtype. If bool or int, can be used as a mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>numeric</em>) – The radius of the circle.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the output array that contains the circle. Defaults to
(round(2*r+1), round(2*r+1)).</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the circle will be centered in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the circle will be centered
at the origin pixel (0,0). Defaults to True.</p></li>
<li><p><strong>dtype</strong> (<em>object</em><em>, </em><em>optional</em>) – A valid numpy dtype. Defaults to boolean.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>circle</strong> – A circle that obeys the equation <span class="math notranslate nohighlight">\(x^2 + y^2 &lt; r^2\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.structures.donut">
<code class="descclassname">imagemks.structures.</code><code class="descname">donut</code><span class="sig-paren">(</span><em>r_outer</em>, <em>r_inner</em>, <em>size=None</em>, <em>centered=True</em>, <em>dtype=&lt;class 'numpy.bool_'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.donut" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a 2d donut with specified dtype. If bool or int, can be used as a mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_outer</strong> (<em>numeric</em>) – The radius of the outer border.</p></li>
<li><p><strong>r_inner</strong> (<em>numeric</em>) – The radius of the inner border.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the output array that contains the donut. Defaults to
(round(2*r_outer+1), round(2*r_outer+1)).</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the donut will be centered in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the donut will be centered
at the origin pixel (0,0). Defaults to True.</p></li>
<li><p><strong>dtype</strong> (<em>object</em><em>, </em><em>optional</em>) – A valid numpy dtype. Defaults to boolean.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>donut</strong> – A donut that obeys the equation <span class="math notranslate nohighlight">\(r_inner^2 &lt; x^2 + y^2 &lt; r_outer^2\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.structures.wheel">
<code class="descclassname">imagemks.structures.</code><code class="descname">wheel</code><span class="sig-paren">(</span><em>n_quad</em>, <em>width</em>, <em>size</em>, <em>r=None</em>, <em>start=0</em>, <em>centered=True</em>, <em>dtype=&lt;class 'numpy.bool_'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.wheel" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a 2d wheel with specified dtype. If bool or int, can be used as a mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_quad</strong> (<em>int</em>) – The number of spokes per quadrant (graph quadrant).</p></li>
<li><p><strong>width</strong> (<em>int</em>) – The width of a spoke.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the output array that contains the wheel.</p></li>
<li><p><strong>r</strong> (<em>numeric</em><em>, </em><em>optional</em>) – The maximum length of a spoke. Optional.</p></li>
<li><p><strong>start</strong> (<em>float</em><em>, </em><em>optional</em>) – Offset of the first spoke from 0 in radians.</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the wheel will be centered in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the wheel will be centered
at the origin pixel (0,0).</p></li>
<li><p><strong>dtype</strong> (<em>object</em><em>, </em><em>optional</em>) – A valid numpy dtype.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>wheel</strong> – A wheel that is composed of lines (called spokes) that are evenly rotated
around the center pixel.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.structures.gauss">
<code class="descclassname">imagemks.structures.</code><code class="descname">gauss</code><span class="sig-paren">(</span><em>sigma</em>, <em>theta=0</em>, <em>size=None</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.gauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 2d gaussian distribution. Usually used as a filter or kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – The standard deviation of the gaussian. First value of tuple is the
x st. dev., second value is the y st. dev.. If one value is given,
x and y st. dev. are the same.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the output array that contains the object. Defaults to
(round(4*sigma+1), round(4*sigma+1)).</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the center will be in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the center will be
at the origin pixel (0,0). Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>gauss_distribution</strong> – A 2d gaussian distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.structures.conical">
<code class="descclassname">imagemks.structures.</code><code class="descname">conical</code><span class="sig-paren">(</span><em>r</em>, <em>slope=1</em>, <em>size=None</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.conical" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 2d array of z values for a cone in range [0,1]. The location of each value is
tied to the x,y location of the pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>numeric</em>) – The radius of the base of the cone</p></li>
<li><p><strong>slope</strong> (<em>float</em>) – The slope of the sides of the cone. Determines how quickly the cone approaches the
maximum value of 1.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the output array that contains the object. Defaults to
(round(4*sigma+1), round(4*sigma+1)).</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the center will be in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the center will be
at the origin pixel (0,0). Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cone</strong> – A cone described by a 2d array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.structures.drop">
<code class="descclassname">imagemks.structures.</code><code class="descname">drop</code><span class="sig-paren">(</span><em>r</em>, <em>threshold=None</em>, <em>size=None</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.structures.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 2d array of z values for a drop shape in range [0,1]. The location of each
z value is tied to the x,y location of the pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>numeric</em>) – The radius of the base of the drop.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The relative values beneath which we determine the drop is equal to 0.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The size of the output array that contains the object. Defaults to
(round(4*sigma+1), round(4*sigma+1)).</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the center will be in the middle of the array
at pixel (size[0]//2, size[1]//2). If false, the center will be
at the origin pixel (0,0). Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>drop</strong> – A drop described by a 2d array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-imagemks.filters">
<span id="filters-that-use-kernels"></span><h2>Filters that use kernels<a class="headerlink" href="#module-imagemks.filters" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="imagemks.filters.local_avg">
<code class="descclassname">imagemks.filters.</code><code class="descname">local_avg</code><span class="sig-paren">(</span><em>img</em>, <em>rad</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.filters.local_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the local average of a neighborhood taking into account that the
edges need to be treated differently. Averages are only calculated at the
edges using values inside the image and the neighborhood.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>(</em><em>M</em><em>,</em><em>N</em><em>) </em><em>array</em>) – An image.</p></li>
<li><p><strong>rad</strong> (<em>numeric</em>) – The radius of the neighborhood.</p></li>
<li><p><strong>mask</strong> (<em>(</em><em>M</em><em>,</em><em>N</em><em>) </em><em>binary array</em><em>, </em><em>optional</em>) – A binary array that can be used to define what is outside the
image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>local_averages</strong> – The local averages at all pixel locations.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(M,N) array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="imagemks.filters.fftgauss">
<code class="descclassname">imagemks.filters.</code><code class="descname">fftgauss</code><span class="sig-paren">(</span><em>img</em>, <em>sigma</em>, <em>theta=0</em>, <em>pad_type=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.filters.fftgauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooths the input image with a gaussian kernel. Uses the fft method and allows
specifying a custom pad type with <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs from numpy.pad documentation. Smoothing
a color image will smooth each color channel individually.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>(</em><em>M</em><em>,</em><em>N</em><em>) or </em><em>(</em><em>M</em><em>,</em><em>N</em><em>,</em><em>3</em><em>) </em><em>array</em>) – An image to be smoothed</p></li>
<li><p><strong>sigma</strong> (<em>tuple</em><em> or </em><em>float</em>) – Tuple defining the standard deviation of the gaussian in x and y directions.
A single value will assign the same value to x and y st. devs..</p></li>
<li><p><strong>theta</strong> (<em>float</em><em>, </em><em>optional</em>) – The rotation of the gaussian in radians.</p></li>
<li><p><strong>pad_type</strong> (<em>string</em><em>, </em><em>optional</em>) – The padding type to be used. For additional information see numpy.pad .
Defaults to constant.</p></li>
<li><p><strong>kwargs</strong> (<em>varies</em>) – See numpy.pad . Defaults to constant_values=0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>smoothed_image</strong> – A smoothed image. Keeps same shape and same number of color channels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>There are many gaussian smoothing functions. This one is unique because it
automatically handles color images. It also allows defining very unique
gaussian kernels with strain and orientation.</p>
</dd></dl>

<dl class="function">
<dt id="imagemks.filters.smooth_segmentation">
<code class="descclassname">imagemks.filters.</code><code class="descname">smooth_segmentation</code><span class="sig-paren">(</span><em>S</em>, <em>r=1</em>, <em>add_cond=0.5</em>, <em>rem_cond=None</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.filters.smooth_segmentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooths a segmented image, where the input is a binary segmentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>ndarray of booleans</em>) – A binary image.</p></li>
<li><p><strong>add_cond</strong> (<em>float</em><em>, </em><em>optional</em>) – Parameter that specifies the percentage of neighboring pixels
that must be in the segmentation for that pixel to be converted to
the segmentation.</p></li>
<li><p><strong>rem_cond</strong> (<em>float</em><em>, </em><em>optional</em>) – Parameter that specifies the percentage of neighboring pixels
outside the segmentation that cause a pixel to be removed from
the segmentation.</p></li>
<li><p><strong>r</strong> (<em>numeric</em><em>, </em><em>optional</em>) – The radius of the kernel used to define the neighboring pixels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>smooth_segmentation</strong> – A smoothed version of the segmented image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray of booleans</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, pixels are only added to a segmentation. Alternatively, pixels
can be removed and not added. Adding and removing does not make sense with
this algorithm since a pixel used to calculate an add condition could be
removed later resulting in a non-smooth segmentation. This method can be
thought of as a generalization of binary erosion and dilation.</p>
</dd></dl>

<dl class="function">
<dt id="imagemks.filters.fftconvolve2d">
<code class="descclassname">imagemks.filters.</code><code class="descname">fftconvolve2d</code><span class="sig-paren">(</span><em>h1</em>, <em>h2</em>, <em>r</em>, <em>pad_type=None</em>, <em>centered=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.filters.fftconvolve2d" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds to the functionality of scipy.signal.fftconvolve
by providing padding options for 2D arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h1</strong> (<em>(</em><em>M</em><em>,</em><em>N</em><em>) </em><em>array</em><em>, </em><em>numeric</em>) – The signal to be convolved, should be (M,N) and is usually the image.</p></li>
<li><p><strong>h2</strong> (<em>(</em><em>M</em><em>,</em><em>N</em><em>) </em><em>array</em><em>, </em><em>numeric</em>) – The signal to convolve with, should be (M,N) and is usually the filter.
Will always be padded with zeros.</p></li>
<li><p><strong>r</strong> (<em>int</em>) – The padding width. Termed r since an int value will introduce a radius
around the input. Different padding widths not supported.</p></li>
<li><p><strong>pad_type</strong> (<em>string</em><em>, </em><em>optional</em>) – The padding type to be used. For additional information see numpy.pad .
Defaults to constant.</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Needed since the filters in this package can be defined as centered
or origin type.</p></li>
<li><p><strong>kwargs</strong> (<em>varies</em>) – See numpy.pad . Defaults to constant_values=0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>a</strong> – A convolved 2d signal in real space. Imaginary outputs not supported.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(M,N) array, float</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-imagemks.masking">
<span id="masking-space-using-kernels"></span><h2>Masking space using kernels<a class="headerlink" href="#module-imagemks.masking" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="imagemks.masking.maskfourier">
<code class="descclassname">imagemks.masking.</code><code class="descname">maskfourier</code><span class="sig-paren">(</span><em>image</em>, <em>mask</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="headerlink" href="#imagemks.masking.maskfourier" title="Permalink to this definition">¶</a></dt>
<dd><p>Masks the fourier transform of an image using the given mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>(</em><em>M</em><em>,</em><em>N</em><em>) </em><em>array</em><em> or </em><em>(</em><em>M</em><em>,</em><em>N</em><em>,</em><em>3</em><em>) </em><em>array</em>) – </p></li>
<li><p><strong>mask</strong> (<em>An</em><em> (</em><em>M</em><em>,</em><em>N</em><em>) </em><em>array</em>) – Will be expanded to 3 channels if image is color.</p></li>
<li><p><strong>centered</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Is the mask for a centered fourier transform?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>(A, B)</strong> – Two images generated from the masked fourier transforms. A contains
an image reconstructed from values in the mask. B contains an image
reconstructed from values outside the mask.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of ndarrays</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">imagemks.masking</span> <span class="k">import</span> <span class="n">maskfourier</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask_centered</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="go">                              [1,1,1],</span>
<span class="go">                              [0,1,0]])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mask_origin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">ifftshift</span><span class="p">(</span><span class="n">mask_centered</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask_origin</span>
<span class="go">array([[1, 1, 1],</span>
<span class="go">       [1, 0, 0],</span>
<span class="go">       [1, 0, 0]])</span>
</pre></div>
</div>
<p>The difference between centered masks and uncentered can be resolved by
using np.fft.fftshift and np.ifftshift. By default all masks in structures
are centered.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">maskfourier</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">mask_centered</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(array([[1., 1., 1.],</span>
<span class="go">        [1., 1., 1.],</span>
<span class="go">        [1., 1., 1.]]),</span>
<span class="go"> array([[0., 0., 0.],</span>
<span class="go">        [0., 0., 0.],</span>
<span class="go">        [0., 0., 0.]]))</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kernels Filters and Masking</a><ul>
<li><a class="reference internal" href="#module-imagemks.structures">Kernels as different structural shapes</a></li>
<li><a class="reference internal" href="#module-imagemks.filters">Filters that use kernels</a></li>
<li><a class="reference internal" href="#module-imagemks.masking">Masking space using kernels</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Workflows.html"
                        title="previous chapter">Workflows</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Visualization.html"
                        title="next chapter">Visualization</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/KernFiltMask.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Visualization.html" title="Visualization"
             >next</a> |</li>
        <li class="right" >
          <a href="Workflows.html" title="Workflows"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ImageMKS 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="API.html" >API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Sven Voigt.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>